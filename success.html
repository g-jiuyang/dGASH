<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dGASH</title>
    <link rel="icon" href="images/favicon.ico" type="images/favicon.ico"/>
    <link rel="shortcut icon" href="images/favicon.ico" type="images/favicon.ico"/>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/header.css">
    <!-- layout-success-dec -->
    <link rel="stylesheet" href="css/page-ontop-desc.css">
    <link rel="stylesheet" href="css/order-form.css">
    <link rel="stylesheet" href="css/invoice-form.css">
    <link rel="stylesheet" href="css/popup-basic.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/cookie.css">
</head>
<body>
    <div id="app">
        <header> 
            <div class="fixed-top">
                <div class="content">
                    <h1 class="brand-logo"><a href="index.html"><img src="images/logo.svg" alt="dGASH"></a></h1>
                    <div class="account">
                        <div class="points"><img src="images/icon/ic-dGash.svg" alt="">300,000</div>
                         <!-- 成功連接錢包後，請於 button > p 內放入錢包帳號 -->
                        <button @click="openSubMenu"><p>連接錢包</p></button>
                    </div>
                    <button class="m-nav-icon" @click="openNav">
                        <img src="images/icon/ic-m-nav.svg" alt="">
                    </button>
                </div>
            </div>
            <nav>
                <button class="hide" @click="hideBlackWall"><img src="images/icon/ic-m-nav-hide.svg" alt=""></button>
                <ul>
                    <li><a href="index.html">轉換頁</a></li>
                    <li><a href="#" target="_blank">轉換教學</a></li>
                    <li><a href="record.html">轉換紀錄</a></li>
                    <li><a href="qa.html">常見問題</a></li>
                    <li><a href="about.html">關於數位點</a></li>
                </ul>
            </nav>
            <div class="subMenu-box">
                <div class="content">
                    <div class="subMenu">
                        <button class="hide" @click="hideBlackWall"><img src="images/icon/ic-m-nav-hide.svg" alt=""></button>
                        <div class="points"><img src="images/icon/ic-dGash.svg" alt="">300,000</div>
                        <ul>
                            <li><a href="#">登出</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </header>
        <main>
            <div class="layout-success-dec">
                <section class="page-ontop-desc">
                    <p class="title">交易成功，轉換進行中</p>
                    <p class="desc">將依據區塊鏈的壅塞程度，轉換完成時間約為 5 分鐘至 2 小時不等，請稍後至記錄頁查看進度。</p>
                </section>
                <section class="order-form">
                    <div class="pd-box">
                        <div class="pd-img">
                            <img src="images/product/product_01.jpg" alt="">
                        </div>
                        <div class="pd-info">
                            <p class="title">GASH 點數 10,000點</p>
                            <p>訂單編號：GM210602L0001825</p>
                            <p>交易時間：2022/03/03 23:56:00</p>
                            <p>購買數量：1</p>
                            <p>轉換總額：<img src="images/icon/ic-dGash.svg" alt="">9,000</p>
                        </div>
                    </div>
                    <a href="./index.html" class="cta-btn">繼續轉換</a>
                    <a href="./record.html" class="ghost-btn">查看紀錄</a>
                </section>
                <section class="invoice-form">
                    <p class="title">
                        發票資料
                        <button @click="openPopup"><img src="images/icon/ic-comment.svg" alt=""></button>
                    </p>
                    <div class="checkbox">
                        <input type="checkbox" id="no-invoice">
                        <label for="no-invoice">我不需要索取發票，請直接捐贈給指定社團法人( 捐贈碼：510 )</label>
                    </div>
                    <div id="invoice">
                        <div id="invoice-select" class="selector">
                            <span>請選擇</span>
                            <div>
                                <ul>
                                    <li id="invoice-select-1">我要捐贈</li> 
                                    <li id="invoice-select-2">個人發票</li>
                                    <li id="invoice-select-3">公司用發票</li>
                                </ul>
                            </div>
                        </div>
                        <div id="invoice-select-content-1" class="invoice-type">
                            <p>受捐贈機關或團體之捐贈碼 <button onclick="window.open('https://www.einvoice.nat.gov.tw/APCONSUMER/BTC603W/', '_blank')"><img src="images/icon/ic-comment.svg" alt=""></button></p>
                            <input type="text" value="510">
                            <p>Email 信箱 (選填)</p>
                            <input type="email" placeholder="請輸入Email信箱">
                        </div>
                        <div id="invoice-select-content-2" class="invoice-type">
                            <p>*電子發票載具類別 <button onClick="window.open('https://www.einvoice.nat.gov.tw/', '_blank')"><img src="images/icon/ic-comment.svg" alt=""></button></p>
                            <div id="carrier-select" class="selector">
                                <span>未持有</span>
                                <div>
                                    <ul>
                                        <li id="carrier-select-1">未持有</li> 
                                        <li id="carrier-select-2">手機條碼</li>
                                        <li id="carrier-select-3">自然憑證條碼</li>
                                    </ul>
                                </div>
                            </div>
                            <input type="text" id="carrier-select-content-2" class="carrier-select-content" placeholder="請輸入手機條碼">
                            <input type="text" id="carrier-select-content-3" class="carrier-select-content" placeholder="請輸入自然憑證條碼">
                            <p>*Email 信箱</p>
                            <input type="email" placeholder="請輸入Email信箱">
                            <label>此Email信箱僅供寄送電子發票開立通知使用。</label>
                        </div>
                        <div id="invoice-select-content-3" class="invoice-type">
                            <p>*公司抬頭或姓名</p>
                            <input type="text" placeholder="請輸入公司抬頭或姓名">
                            <p>*統一編號</p>
                            <input type="text" placeholder="請輸入統一編號">
                            <p>*Email 信箱</p>
                            <input type="email" placeholder="請輸入Email信箱">
                            <p>*寄送地址(即日起不主動寄送紙本發票)</p>
                            <div id="county-select" class="selector">
                                <span>請選擇縣市</span>
                                <div>
                                    <ul>
                                        <li id="county-1">臺北市</li> 
                                        <li id="county-2">新北市</li>
                                        <li id="county-3">基隆市</li>
                                        <li id="county-4">桃園市</li> 
                                        <li id="county-5">新竹縣</li>
                                        <li id="county-6">苗栗縣</li>
                                        <li id="county-7">臺中市</li> 
                                        <li id="county-8">彰化縣</li>
                                        <li id="county-9">南投縣</li>
                                        <li id="county-10">雲林縣</li> 
                                        <li id="county-11">嘉義縣</li>
                                        <li id="county-12">臺南市</li>
                                        <li id="county-13">高雄市</li> 
                                        <li id="county-14">屏東縣</li> 
                                        <li id="county-15">宜蘭縣</li> 
                                        <li id="county-16">花蓮縣</li> 
                                        <li id="county-17">臺東縣</li> 
                                        <li id="county-18">澎湖縣</li> 
                                        <li id="county-19">綠島</li> 
                                        <li id="county-20">蘭嶼</li> 
                                        <li id="county-21">金門縣</li> 
                                        <li id="county-22">馬祖</li> 
                                        <li id="county-23">連江縣</li> 
                                    </ul>
                                </div>
                            </div>
                            <div id="city-select" class="selector">
                                <span>請選擇鄉鎮市區</span>
                                <div>
                                    <ul>
                                        <li id="city-1">松山區</li> 
                                        <li id="city-2">信義區</li>
                                        <li id="city-3">中正區</li>
                                        <li id="city-4">大同區</li> 
                                        <li id="city-5">中山區</li>
                                        <li id="city-6">大安區</li>
                                        <li id="city-7">萬華區</li> 
                                        <li id="city-8">士林區</li>
                                        <li id="city-9">北投區</li>
                                        <li id="city-10">內湖區</li> 
                                        <li id="city-11">南港區</li>
                                        <li id="city-12">文山區</li>
                                    </ul>
                                </div>
                            </div>
                            <input type="text" placeholder="輸入寄送地址，請勿填寫郵政信箱">
                        </div>
                    </div>
                    <button id="submit" onclick="location.href='success-index.html'" disabled>送出發票資料</button>
                    <!-- ↑↑ 當勾選「我不需要索取發票，請直接捐贈給指定社團法人」或下方所有必填欄位都有填寫時，才解除disabled ↑↑ -->
                </section>
            </div>
        </main>
        <footer>
            <div class="ft-sitemap">
                <ul>
                    <li><a href="#">關於GASH</a></li>
                    <li><a href="#">服務條款</a></li>
                    <li><a href="privacy.html">隱私權和Cookie聲明</a></li>
                    <li><a href="#">聯繫客服</a></li>
                </ul>
            </div>
            <p>© 2022 GASH POINT Co., Ltd. All right reserved</p>
        </footer>
<!-- 遮屏 -->
        <section class="black-wall" style="display: none;"></section>
<!-- basic popup -->
        <section class="popup-basic" @click="hidePopup" style="display: none;">
            <button class="hide"><img src="images/icon/ic-m-nav-hide.svg" alt=""></button>
            <p class="title">發票說明</p>
            <p class="desc">
                財政部於2013年1月1日起正式推動電子發票虛實合一政策！<br>
                此政策讓持有共通性載具之消費者，可於消費時作為電子發票之載具，並提供消費者以捐贈碼捐贈予特定受捐贈機關或團體之管道。<br>
                有關【共通性載具】與【捐贈碼】詳細介紹與資訊，詳見<a href="https://www.einvoice.nat.gov.tw/index" target="_blank">財政部電子發票整合服務平台</a>說明。
            </p>
            <p class="desc">
                注意：<br>
                如資料有誤導致無法寄達，我們將直接把發票捐贈給(社團法人台灣一起夢想公益協會)<br>
                因應財政部推廣無紙化作業，即日起將不再主動寄送紙本發票，若仍有索取紙本需求請與樂點客服聯繫。
            </p>
        </section>
    </div>
    <script src="js/jquery-3.4.1.min.js"></script>
    <script src="js/vue.min.js"></script>
    <script>
        var vm = new Vue({
            el: '#app',
            data() {
                return {
                    activetab: '1',
                    agree: false,
                    url: './success.html',
                    selectList:[
                        {
                            sell: 1,
                            point: '1,000',
                        },
                        {
                            sell: 2,
                            point: '5,000',
                        },
                        {
                            sell: 2,
                            point: '10,000',
                        },
                        {
                            sell: 1,
                            point: '20,000',
                        },
                    ],
                    pointList:[
                        {
                            state: 1,
                            img: 'images/icon/ic-dGash.svg',
                            pointMain: 'GASH',
                            pointMinor: 'Polygon',
                        },
                        {
                            state: 1,
                            img: 'images/icon/ic-usdt.svg',
                            pointMain: 'USDT',
                            pointMinor: 'Ethereum',
                        },
                        {
                            state: 2,
                            img: 'images/icon/ic-eth.svg',
                            pointMain: 'ETH',
                            pointMinor: 'xxxxx',
                        },
                        {
                            state: 2,
                            img: 'images/icon/ic-bnb.svg',
                            pointMain: 'BNB',
                            pointMinor: 'xxxxx',
                        },
                    ],
                }
            },
            methods: {
                openSubMenu: function(){
                    var windowW = window.innerWidth;
                    if(windowW < 768){
                        $('.black-wall').show();
                        $('.subMenu-box').slideToggle();
                        $('.subMenu-box').slideToggle();
                        $('body').toggleClass('hidden');
                    }else{
                        $('.subMenu-box').slideToggle();
                        $('body').toggleClass('hidden');
                    }
                },
                openNav: function(){
                    var windowW = window.innerWidth;
                    if(windowW < 768){
                        $('.black-wall').show();
                        $('nav').slideToggle();
                        $('body').toggleClass('hidden');
                    }else{
                        $('nav').slideToggle();
                        $('body').toggleClass('hidden');
                    }
                },
                hideBlackWall: function(){
                    var windowW = window.innerWidth;
                    if(windowW < 768){
                        $('.black-wall').hide();
                        $('nav').hide();
                        $('.subMenu-box').hide();
                        $('.popup-basic').hide();
                        $('body').toggleClass('hidden');
                    }else{}
                },
                hidePopup: function(){
                    $('.black-wall').hide();
                    $('.popup-basic').hide();
                    $('body').removeClass('hidden');
                },
                openPopup: function(){
                    $('.black-wall').show();
                    $('.popup-basic').show();
                    $('body').addClass('hidden');
                },
            },
        });

        $(document).mouseup(function (e) {
            var windowW = window.innerWidth;
            var subMenuBox = $(".subMenu-box");
            var nav = $("nav");
            var selectNav = $(".select-nav");
            var selectrBoxNav = $(".selectr-box-nav");
            var popupBasic = $('.popup-basic');

            if (!subMenuBox.is(e.target) && subMenuBox.has(e.target).length === 0 ||
                !nav.is(e.target) && nav.has(e.target).length === 0 ||
                !selectNav.is(e.target) && selectNav.has(e.target).length === 0 ||
                !selectrBoxNav.is(e.target) && selectrBoxNav.has(e.target).length === 0 ||
                !popupBasic.is(e.target) && popupBasic.has(e.target).length === 0
            ){
                subMenuBox.hide();
                selectNav.hide(); 
                selectrBoxNav.hide();
                popupBasic.hide();
                $('.black-wall').hide();
                $('body').removeClass('hidden');

                if(windowW < 768){
                    nav.hide();
                }
            };
        });

        // 勾選不要發票
        $('#no-invoice').click(function(){
            $('#invoice').toggleClass('hidden')
            $('#submit').removeAttr('disabled');
            // if ($('#submit').attr('disabled')) $('#submit').removeAttr('disabled');
            // else $('#submit').attr('disabled', 'disabled');
        })

        // 發票下拉選單
        $('#invoice-select').click(function(){
            $('#carrier-select').removeClass('open')
            $('#county-select').removeClass('open')
            $('#city-select').removeClass('open')
            $(this).toggleClass('open')
        })
        $(function() {
            for ( let i = 1; i <= 3; i++ ) {
                let clickedButton = $('#invoice-select-'+i);
                let listContent = $('#invoice-select-content-'+i);
                $(clickedButton).click(function() {
                    $('#invoice-select span').html($(this).html())
                    $('#invoice-select span').css('color','#344054')
                    $('.invoice-type').removeClass('show')
                    $(listContent).addClass('show')
                    $('#submit').removeAttr('disabled')
                })
            }
        });

        // 電子發票載具類別下拉選單
        $('#carrier-select').click(function(){
            $('#invoice-select').removeClass('open')
            $(this).toggleClass('open')
        })
        $(function() {
            for ( let i = 1; i <= 3; i++ ) {
                let clickedButton = $('#carrier-select-'+i);
                let listContent = $('#carrier-select-content-'+i);
                $(clickedButton).click(function() {
                    $('#carrier-select span').html($(this).html())
                    $('#carrier-select span').css('color','#344054')
                    $('.carrier-select-content').removeClass('show')
                    $(listContent).addClass('show')
                })
            }
        });
        
        // 縣市下拉選單
        $('#county-select').click(function(){
            $('#invoice-select').removeClass('open')
            $('#city-select').removeClass('open')
            $(this).toggleClass('open')
        })
        $(function() {
            for ( let i = 1; i <= 23; i++ ) {
                let clickedButton = $("#county-"+i);
                $(clickedButton).click(function() {
                    $('#county-select span').html($(this).html())
                    $('#county-select span').css('color','#344054')
                })
            }
        });

        // 鄉鎮市區下拉選單
        $('#city-select').click(function(){
            $('#invoice-select').removeClass('open')
            $('#county-select').removeClass('open')
            $(this).toggleClass('open')
        })
        $(function() {
            for ( let i = 1; i <= 12; i++ ) {
                let clickedButton = $("#city-"+i);
                $(clickedButton).click(function() {
                    $('#city-select span').html($(this).html())
                    $('#city-select span').css('color','#344054')
                    console.log(this)
                })
            }
        });
    </script>
</body>
</html>