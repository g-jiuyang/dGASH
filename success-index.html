<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dGASH</title>
    <link rel="icon" href="images/favicon.ico" type="images/favicon.ico"/>
    <link rel="shortcut icon" href="images/favicon.ico" type="images/favicon.ico"/>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/header.css">
    <!-- layout-key-vision -->
    <link rel="stylesheet" href="css/key-vision-desc.css">
    <link rel="stylesheet" href="css/key-vision-table.css">
    <link rel="stylesheet" href="css/sub-banner.css">
    <link rel="stylesheet" href="css/popup-basic.css">
    <link rel="stylesheet" href="css/popup-transfer.css">
    <link rel="stylesheet" href="css/popup-success.css">
    <link rel="stylesheet" href="css/loading.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/cookie.css">
</head>
<body class="hidden">
    <div id="app">
        <header>
            <div class="fixed-top">
                <div class="content">
                    <h1 class="brand-logo"><a href="index.html"><img src="images/logo.svg" alt="dGASH"></a></h1>
                    <div class="account">
                        <!-- <div class="points"><img src="images/icon/ic-dGash.svg" alt="">300,000</div> -->
                         <!-- 成功連接錢包後，請於 button > p 內放入錢包帳號 -->
                        <button @click="openSubMenu"><p>連接錢包</p></button>
                    </div>
                    <button class="m-nav-icon" @click="openNav">
                        <img src="images/icon/ic-m-nav.svg" alt="">
                    </button>
                </div>
            </div>
            <nav>
                <button class="hide" @click="hideBlackWall"><img src="images/icon/ic-m-nav-hide.svg" alt=""></button>
                <ul>
                    <li class="active"><a href="index.html">轉換頁</a></li>
                    <li><a href="#" target="_blank">轉換教學</a></li>
                    <li><a href="record.html">轉換紀錄</a></li>
                    <li><a href="qa.html">常見問題</a></li>
                    <li><a href="about.html">關於數位點</a></li>
                </ul>
            </nav>
            <div class="subMenu-box">
                <div class="content">
                    <div class="subMenu">
                        <button class="hide" @click="hideBlackWall"><img src="images/icon/ic-m-nav-hide.svg" alt=""></button>
                        <!-- <div class="points"><img src="images/icon/ic-dGash.svg" alt="">300,000</div> -->
                        <ul>
                            <li><a href="#">登出</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </header>
        <main>
            <!-- 當有輪播banner，請於當 class="layout-key-vision" 增加 class:have-sub-banner -->
            <div class="layout-key-vision">
                <section class="key-vision-desc">
                    <p class="title">數位點轉換平台</p>
                    <p class="subtitle">輕鬆將你的數位點轉換成GASH點數</p>
                    <p class="txt">使用GASH數位點轉換，<b>至高享9折優惠！</b><br>
                        GASH數位點 - 創新的Web 3.0區塊鏈發行技術，為你的資產安全加滿分！</p>
                    <a href="#" target="_blank" class="cta-btn">取得 GASH 數位點</a>
                    <a href="#" target="_blank" class="txt-btn">新增數位點到 Metamask</a>
                </section>
                <section class="key-vision-table">
                    <p class="table-title">將數位點轉換為GASH<button @click="openPopup"><img src="images/icon/ic-comment.svg" alt=""></button></p>
                    <p class="title">STEP 1. 選擇轉換方式</p>
                    <div class="tab-menu">
                        <button v-on:click="activetab='1'" v-bind:class="[ activetab === '1' ? 'active' : '' ]">序號儲值</button>
                        <button v-on:click="activetab='2'" v-bind:class="[ activetab === '2' ? 'active' : '' ]">beanfun! 會員錢包限定</button>
                    </div>
                    <p class="title">STEP 2. 選擇面額</p>
                    <div class="select-box" @click="openSelectNav">
                        <div class="box-l">
                            <img src="images/icon/ic-gash.svg" alt="">
                        </div>
                        <div class="box-r"><p>請選擇面額</p></div>
                        <div class="select-nav">
                            <ul>
                                <template v-for="item,idx in selectList">
                                    <template v-if="item.sell === 1" key="sell"><li>{{item.point}}</li></template>
                                    <template v-if="item.sell === 2" key="sellOut"><li class="disabled">{{item.point}}</li></template>
                                </template>
                            </ul>
                        </div>
                    </div>
                    <div class="add-amount">
                        <p class="title">STEP 3. 選擇數量</p>
                        <div class="amount">
                            <button id="add" class="cursor-pointer"><img src="images/icon/ic-minus.svg" alt=""></button>
                            <input id="quantity" type="text" value="9999" class="input-amount"> 
                            <!-- 無法點擊時，請於當 button 增加 class="none" -->
                            <button id="min" class="cursor-pointer none"><img src="images/icon/icon-plus.svg" alt=""></button>
                        </div>
                    </div>
                    <div class="convert">
                        <div class="offer">8% off</div>
                        <div class="point-box">
                            <p>轉換所需點：</p>
                            <div class="change">
                                <p class="points">920</p>
                                <div class="selectr-box" @click="openSelectBoxNav">
                                    <div class="confirm">
                                        <img src="images/icon/ic-dGash.svg" alt="">
                                        <span>GASH</span>
                                    </div>
                                    <div class="selectr-box-nav">
                                        <ul>
                                            <template v-for="item,idx in pointList">
                                                <template v-if="item.state === 1" key="stateBlock">
                                                    <li>
                                                        <div class="main"><img :src="item.img" alt=""><span>{{item.pointMain}}</span></div>
                                                        <div class="minor">{{item.pointMinor}}</div>
                                                    </li>
                                                </template>
                                                <template v-if="item.state === 2" key="stateNone">
                                                    <li class="disabled">
                                                        <div class="main"><img :src="item.img" alt=""><span>{{item.pointMain}}</span></div>
                                                        <div class="minor">{{item.pointMinor}}</div>
                                                    </li>
                                                </template>
                                            </template>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="checkbox">
                        <input id="agreement" type="checkbox" v-model="agree">
                        <label for="agreement">我已閱讀並同意<a href="" target="_blank">服務條款</a>、<a href="" target="_blank">隱私權政策</a>與<button @click="openPopup">注意事項</button>
                        </label>
                    </div>
                    <!-- <button class="btn" :disabled="!agree" @click="viewRecords">轉換</button> -->
                    <button class="btn" :disabled="!agree" @click="openPopupTransfer">轉換</button>
                </section>
                <section class="sub-banner">
                    <ul>
                        <li><a href="#" target="_blank">
                            <img src="images/banner/subBanner.jpg" alt="">
                        </a></li>
                    </ul>
                    <div class="control">
                        <button></button>
                        <button class="center"></button>
                        <button></button>
                    </div>
                </section>
            </div>
        </main>
        <footer>
            <div class="ft-sitemap">
                <ul>
                    <li><a href="#">關於GASH</a></li>
                    <li><a href="#">服務條款</a></li>
                    <li><a href="privacy.html">隱私權和Cookie聲明</a></li>
                    <li><a href="#">聯繫客服</a></li>
                </ul>
            </div>
            <p>© 2022 GASH POINT Co., Ltd. All right reserved</p>
        </footer>
<!-- 遮屏 -->
        <section class="black-wall"></section>
<!-- basic popup -->
        <section class="popup-basic" @click="hidePopup" style="display: none;">
            <button class="hide"><img src="images/icon/ic-m-nav-hide.svg" alt=""></button>
            <p class="title">連接錢包</p>
            <p class="desc">您即將兌換「<b>XXXXX(商品名稱)</b>」x3 ，一旦兌換成功將扣除帳戶內的蟲蟲幣 <b>4,500</b> 顆。</p>
            <button class="cta-btn">連接錢包</button>
        </section>
<!-- transfer popup -->
        <section class="popup-transfer" style="display: none;">
            <button class="hide" @click="hidePopupTransfer"><img src="images/icon/ic-m-nav-hide.svg" alt=""></button>
            <p class="title">轉換費用確認</p>
            <p class="amount">12,228.00000000000000000<span>TWD</span></p>
            <dl>
                <dt>Key</dt>
                <dd>Value</dd>
                <dt>文字文字文字文字文字文字文字文字</dt>
                <dd>TWD $12</dd>
                <dt>Key</dt>
                <dd>Value</dd>
                <dt>文字文字文字文字文字文字文字文字</dt>
                <dd>TWD $12</dd>
                <dt>Key</dt>
                <dd>Value</dd>
                <dt>文字文字文字文字文字文字文字文字</dt>
                <dd>TWD $12</dd>
                <dt>Key</dt>
                <dd>Value</dd>
                <dt>文字文字文字文字文字文字文字文字</dt>
                <dd>TWD $12</dd>
                <dt>Key</dt>
                <dd>Value</dd>
                <dt>文字文字文字文字文字文字文字文字</dt>
                <dd>TWD $12</dd>
                <!-- Key & Value 可無限增加 (dt=Key, dd=Value) -->
            </dl>
            <!-- <p class="desc">您即將兌換「<b>XXXXX(商品名稱)</b>」x3 ，一旦兌換成功將扣除帳戶內的蟲蟲幣 <b>4,500</b> 顆。</p> -->
            <p class="warning">報價已過期，請重新取得報價</p> <!-- 下方button倒數結束後才出現此訊息 -->
            <button class="cta-btn" :disabled="!agree" @click="viewRecords">確認兌換 (3s)</button> <!-- 倒數結束後按鈕變為「更新報價」(參考Figma) -->
        </section>
<!-- success popup -->
        <section class="popup-success" @click="hideSuccess">
            <p class="title">開始轉換</p>
            <p class="desc">
                將依據區塊鏈的壅塞程度，轉換完成時間約為 5 分鐘至 2 小時不等，請稍後至記錄頁查看進度。<br>
                確認轉換成功後，待發票開立後將會寄出通知。
            </p>
            <div class="btns">
                <button class="border-btn" onClick="location.href='record.html'">查看紀錄</button>
                <button class="cta-btn" @click="hideSuccess">繼續轉換</button>
            </div>
        </section>
<!-- loading -->
        <section class="loading" style="display: none;">
            <span class="loader"></span>
        </section>
    </div>
    <script src="js/jquery-3.4.1.min.js"></script>
    <script src="js/vue.min.js"></script>
    <script>
        var vm = new Vue({
            el: '#app',
            data() {
                return {
                    activetab: '1',
                    agree: false,
                    url: './success.html',
                    selectList:[
                        {
                            sell: 1,
                            point: '1,000',
                        },
                        {
                            sell: 2,
                            point: '5,000',
                        },
                        {
                            sell: 2,
                            point: '10,000',
                        },
                        {
                            sell: 1,
                            point: '20,000',
                        },
                    ],
                    pointList:[
                        {
                            state: 1,
                            img: 'images/icon/ic-dGash.svg',
                            pointMain: 'GASH',
                            pointMinor: 'Polygon',
                        },
                        {
                            state: 1,
                            img: 'images/icon/ic-usdt.svg',
                            pointMain: 'USDT',
                            pointMinor: 'Ethereum',
                        },
                        {
                            state: 2,
                            img: 'images/icon/ic-eth.svg',
                            pointMain: 'ETH',
                            pointMinor: 'xxxxx',
                        },
                        {
                            state: 2,
                            img: 'images/icon/ic-bnb.svg',
                            pointMain: 'BNB',
                            pointMinor: 'xxxxx',
                        },
                    ],
                }
            },
            methods: {
                openSubMenu: function(){
                    var windowW = window.innerWidth;
                    if(windowW < 768){
                        $('.black-wall').show();
                        $('.subMenu-box').slideToggle();
                        $('body').toggleClass('hidden');
                    }else{
                        $('.subMenu-box').slideToggle();
                        $('body').toggleClass('hidden');
                    }
                },
                openNav: function(){
                    var windowW = window.innerWidth;
                    if(windowW < 768){
                        $('.black-wall').show();
                        $('nav').slideToggle();
                        $('body').toggleClass('hidden');
                    }else{
                        $('nav').slideToggle();
                        $('body').toggleClass('hidden');
                    }
                },
                hideBlackWall: function(){
                    var windowW = window.innerWidth;
                    if(windowW < 768){
                        $('.black-wall').hide();
                        $('nav').hide();
                        $('.subMenu-box').hide();
                        $('.popup-success').hide();
                        $('body').toggleClass('hidden');
                    }else{}
                },
                openSelectNav: function(){
                    $('.select-nav').slideToggle();
                },
                openSelectBoxNav: function(){
                    $('.selectr-box-nav').slideToggle();
                },
                viewRecords(){
                    window.location.href = this.url;
                },
                hidePopup: function(){
                    $('.black-wall').hide();
                    $('.popup-basic').hide();
                    $('body').removeClass('hidden');
                },
                openPopup: function(){
                    $('.black-wall').show();
                    $('.popup-basic').show();
                    $('body').addClass('hidden');
                },
                hidePopupTransfer: function(){
                    $('.black-wall').hide();
                    $('.popup-transfer').hide();
                    $('body').removeClass('hidden');
                },
                openPopupTransfer: function(){
                    $('.black-wall').show();
                    $('.popup-transfer').show();
                    $('body').addClass('hidden');
                },
                hideSuccess: function(){
                    $('.black-wall').hide();
                    $('.popup-success').hide();
                    $('body').removeClass('hidden');
                },
            },
        });

        $(document).mouseup(function (e) {
            var windowW = window.innerWidth;
            var subMenuBox = $(".subMenu-box");
            var nav = $("nav");
            var selectNav = $(".select-nav");
            var selectrBoxNav = $(".selectr-box-nav");
            var popupBasic = $(".popup-basic");
            var popupTransfer = $(".popup-transfer");
            var popupSuccess = $(".popup-success");

            if (!subMenuBox.is(e.target) && subMenuBox.has(e.target).length === 0 ||
                !nav.is(e.target) && nav.has(e.target).length === 0 ||
                !selectNav.is(e.target) && selectNav.has(e.target).length === 0 ||
                !selectrBoxNav.is(e.target) && selectrBoxNav.has(e.target).length === 0 ||
                !popupBasic.is(e.target) && popupBasic.has(e.target).length === 0 ||
                !popupSuccess.is(e.target) && popupSuccess.has(e.target).length === 0 ||
                !popupTransfer.is(e.target) && popupTransfer.has(e.target).length === 0
            ){
                subMenuBox.hide();
                selectNav.hide(); 
                selectrBoxNav.hide();
                popupBasic.hide();
                popupSuccess.hide();
                popupTransfer.hide();
                $('.black-wall').hide();
                $('body').removeClass('hidden');

                if(windowW < 768){
                    nav.hide();
                }
            };
        });
    </script>
</body>
</html>